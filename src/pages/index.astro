---
// Layout
import RootLayout from "../layouts/RootLayout.astro";

// Components
import { Image } from "astro:assets";
import { CTA, CenterTitle, Section, SocialBtn, AlternateCarousel } from "../components/layout";
import {
  AcademicSection,
  ContactUs,
  Objective,
  VisionMission,
  DeskMessage,
  TaglineBox,
  ImageCard,
  Popup,
  HighlightTile
} from "../components/home";

// Images
import About from "../assets/images/About.webp";
import MissionImg from "../assets/images/Mission.webp";
import VisionImg from "../assets/images/Vision.webp";
import Principal from "../assets/images/Principal.webp";
import HeroImg from "../assets/images/hero.webp";
// import PlaceHolder from "../assets/images/Placeholder.jpg";

// Icons
import {
  Dice,
  AcademicCap,
  Beaker,
  ChartBar,
} from "../assets/icons/academic-sections";

const heroImg = `url(${HeroImg.src})`;


import ElectiveDescription from "../assets/images/home/activities/description.json";


const HolisticDevelopment = await Astro.glob(
  "../assets/images/home/activities/*.webp"
);
const Infrastruture = await Astro.glob(
  "../assets/images/home/infrastructure/*.webp"
);
const ImageMapper = (glob: Record<string, any>[], description?: any) => {
    // Function to shuffle an array
    const shuffleArray = (array: any[]) => {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  };

  // Shuffle the glob array
  const shuffledGlob = shuffleArray([...glob]);

  const mappedImages = shuffledGlob.map((file) => {
    const title = file.default.src.split("/").pop().split(".")[0];
    const img: ImageMetadata = file.default;
    const obj: slide = { img, title };
    if (description) obj["description"] = ElectiveDescription[title];
    return obj;
  });
  return mappedImages;
};


const sports = ImageMapper(HolisticDevelopment);
const sports1 = ImageMapper(Infrastruture);
---

<script>
  // Display the popup when the page loads
  window.addEventListener('load', () => {
    setTimeout(() => {
      const popup = document.getElementById('popup');
      if (popup) {
        popup.style.display = 'flex';
      }
    }, 500);
  });
</script>
<RootLayout
  title="Home"
  transparentNav={true}
  navtext="Admission"
  buttonLink="/admission"
>
<Popup />
  <!-- ***** Hero Section ***** -->
  <div class="hero flex items-center justify-between px-4 md:px-12 lg:px-20">
    <!-- Left Red Bar -->
    <div
      class="h-1/3 md:h-1/2 w-4 md:w-8 left-0 absolute bg-primary text-primary"
    >
      .
    </div>

    <!-- Hero Content -->
    <div class="self-end mb-8 md:mr-44">
      <h3 class="font-bold mb-4 text-md md:text-lg">
        Welcome to <span class="text-primary">Sacred Heart</span>
      </h3>
      <h1 class="font-extrabold text-xl md:text-3xl leading-normal">
        Join us in shaping futures, creating leaders, and building a community
        of lifelong learners.
      </h1>
    </div>

    <!-- Social Btns -->
    <div class="flex flex-col justify-center">
      <SocialBtn height={12} width={12} class="mb-4" type="twitter" />
      <SocialBtn height={12} width={12} class="mb-4" type="instagram" />
      <SocialBtn height={12} width={12} class="mb-4" type="linkedin" />
      <SocialBtn height={12} width={12} class="mb-4" type="facebook" />
      <SocialBtn height={12} width={12} class="mb-4" type="youtube" />
    </div>
  </div>

  <!-- Highlights -->
  <Section class="text-white" title="Our Highlights">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
      <div class="bg-red-800 p-6 rounded-lg shadow-lg">
        <h3 class="text-lg font-bold mb-2 text-white">CBSE Curriculum</h3>
      </div>
      
      <div class="bg-red-800 p-6 rounded-lg shadow-lg">
        <h3 class="text-lg font-bold mb-2 text-white">Green School</h3>
      </div>
      
      <div class="bg-red-800 p-6 rounded-lg shadow-lg">
        <h3 class="text-lg font-bold mb-2 text-white">Innovation</h3>
        
      </div>
      
      <div class="bg-red-800 p-6 rounded-lg shadow-lg">
        <h3 class="text-lg font-bold mb-2 text-white">Design Hub</h3>
      </div>
      
      <div class="bg-red-800 p-6 rounded-lg shadow-lg">
        <h3 class="text-lg font-bold mb-2 text-white">2500+ Students placed in top universities</h3>
      </div>
      
      <div class="bg-red-800 p-6 rounded-lg shadow-lg">
        <h3 class="text-lg font-bold mb-2 text-white">20+ Years</h3>
      </div>
    </div>
  </Section>
  

  <!-- Academic Sections -->
  <Section theme="dark" class="relative">
    <!-- Left Accents -->
    <div
      class="absolute h-1/3 w-1/3 top-1/3 left-0 flex flex-col justify-evenly"
    >
      <div class="w-3/4 h-5 bg-primary opacity-40"></div>
      <div class="w-1/4 h-5 mt-15 bg-primary"></div>
    </div>
    <!-- Right Accents -->
    <div
      class="absolute h-1/3 w-1/3 top-1/3 right-0 flex flex-col justify-evenly items-end"
    >
      <div class="w-1/4 h-5 bg-primary"></div>
      <div class="w-3/4 h-5 mt-15 bg-primary opacity-40"></div>
    </div>

    <!-- Academic Container -->
    <div
      class="bg-white/20 mx-auto md:w-3/4 2xl:w-1/2 py-10 px-12 relative z-40"
    >
      <CenterTitle title="Explore Our Academic Divisions" theme="dark" />
      <!-- With 4 Academic Sections -->
      <div class="grid grid-cols-2 gap-y-6 md:flex justify-evenly">
        <!-- With 3 Academic Sections -->
        <!-- <div class="flex justify-evenly"> -->
        <!-- Pre-Primary -->
        <AcademicSection href="/pre-primary" title="Pre-Primary">
          <Dice slot="icon" height={8} width={8} />
        </AcademicSection>

        <!-- Primary -->
        <AcademicSection href="/primary" title="Primary">
          <AcademicCap slot="icon" height={8} width={8} />
        </AcademicSection>

        <!-- Secondary -->
        <AcademicSection href="/secondary" title="Secondary">
          <Beaker slot="icon" height={8} width={8} />
        </AcademicSection>

        <!-- Higher Secondary -->
        <AcademicSection href="/higher-secondary" title="Higher<br/>Secondary">
          <ChartBar slot="icon" height={8} width={8} />
        </AcademicSection>
      </div>
    </div>
  </Section>

  <!-- About -->
   <div id="about-us">
  <Section theme="accent">
    <DeskMessage
      title="About Us"
      image={About}
      desc={[
        "Sacred Heart School, established in 2000, has been dedicated to imparting quality education. With the guiding motto of Wisdom, Compassion, and Dynamism, the institution aims to instill not only academic knowledge but also moral and ethical values in its students. Over the years, we have carved a niche for ourselves as an institution that promotes holistic development and fosters a spirit of inquiry and innovation. Through a blend of rich academic programs, diverse extracurricular and experiential activities, and state-of-the-art facilities, Sacred Heart School provides a nurturing environment for students to flourish and realize their full potential",
        "Join us in shaping futures, creating leaders, and building a community of lifelong learners.",
        "Welcome to an educational journey that goes beyond the ordinary – welcome to Sacred Heart School, Kalyan.",
      ]}
    />
  </Section>
  </div>
  <!-- Vision / Mission -->
   <div id="mission"></div>
  <Section class="overflow-hidden flex flex-col relative z-0">
    <!-- Mission -->
    <VisionMission
      title="Our Mission"
      image={MissionImg}
      desc="To imbibe aptitude and skills in students required for solving humanity's problems, fostering empathy, and finding joy in making everyone's life beautiful."
      rtl={true}
    />
    <!-- Objectives -->
    <span
      class="pt-20 pb-8 relative inline-grid lg:grid-cols-2 xl:grid-cols-4 gap-8 bg-primary-dark ml-auto rounded-bl-[60px] lg:rounded-bl-none lg:rounded-tl-[60px] before:bg-primary-dark before:absolute before:-right-48 before:w-48 before:h-full before:top-0 z-0 before:-z-10"
    >
      <Objective
        title="Academic Excellence"
        desc="To cultivate a learning environment that fosters academic rigor, critical thinking, and a passion for lifelong learning"
      />
      <Objective
        title="Safe and Inclusive Environment"
        desc="To ensure a secure and inclusive space where diverse perspectives are welcomed, and where cutting-edge technology is harnessed to facilitate monitored online learning experiences"
      />
      <Objective
        title="Future Readiness"
        desc="To equip every student with the skills, knowledge, and adaptability needed to thrive in an ever-changing, globally connected world"
      />
      <Objective
        title="Experiential Learning"
        desc="To provide hands-on, experiential learning opportunities that complement and enrich classroom education, enabling students to apply their knowledge in real-world contexts"
      />
    </span>
    </div>
    <div id="vision">
    <!-- Vision -->
    <VisionMission
      title="Our Vision"
      image={VisionImg}
      desc="To be a hub of ideation and creativity, nurturing future citizen leaders instilled with indispensable values for an ethical, healthy and joyful life."
      rtl={false}
    />
  </Section>
</div>
<div id="principle-desk">
  <Section theme="accent">
    <DeskMessage
      title="From the Principal’s Desk"
      image={Principal}
      desc={[
        "Dear Parents, Students, and Esteemed Visitors,",
        "A heartfelt welcome to Sacred Heart School, a sanctuary of learning and growth. On behalf of the Management, our dedicated faculty and staff, I extend warm greetings to you.",
        "Sacred Heart School is more than an institution; it's a family that cherishes diversity, promotes collaboration, and instills a sense of responsibility in each student. As you navigate our website, we invite you to explore the world of opportunities and experiences that await your child.",
        "The entire Sacred Heart School family looks forward to a collaborative partnership with you. Should you have any inquiries or require assistance, feel free to reach out.",
        "Thank you for choosing Sacred Heart School. Here's to a meaningful and enriching educational journey for your child.",
        "Warm regards,",
        "Mrs. Vinita Raj",
        "Principal, Sacred Heart School",
      ]}
      name="Mrs. Vinita Raj"
    />
    <div id="infra"></div>
    <!--
		<DeskMessage
			title="From the COO’s Desk"
			image={PlaceHolder}
			desc={[
				"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
			]}
			rtl={true}
		/>
    -->
  </Section>
  </div>
  
  <Section theme="accent">
    <CenterTitle title="Explore our Activities & Infrastructure" theme="dark" />
    <!--Activites Section of HomePage -->
    <div id="Activities"></div>
    <TaglineBox
      tagline="Initiating activities that nurture teamwork, leadership, physical health, social skills, discipline, resilience, and mutual trust within and outside the school environment."
    />

    <div class="items-center justify-center">
      <AlternateCarousel slides={sports} id={0} />
    </div>

    <!--Infrastructure Section of HomePage -->
    <TaglineBox
      tagline="The state-of-the-art infrastructure significantly enhances the quality of education, providing an advanced and enriched learning experience."
    />

    <div>
      <AlternateCarousel slides={sports1} id={1} />
    </div>
  </Section>
</div>

  <CTA />
  <div id="Contact"></div>
  <Section theme="accent">
    <ContactUs />
  </Section>
</RootLayout>

<style define:vars={{ heroImg }}>
  :root {
    --hero-opacity: 0.4;
  }
  html {
    scroll-behavior: smooth;
  }
  .hero {
    color: #fff;
    background-image: linear-gradient(
        rgba(0, 0, 0, var(--hero-opacity)),
        rgba(0, 0, 0, var(--hero-opacity))
      ),
      var(--heroImg);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 90vh;
  }
</style>
